local Fluent = loadstring(game:HttpGet("https://github.com/dawid-scripts/Fluent/releases/latest/download/main.lua"))()

-- CONFIGURATION DE VOTRE CLÉ ET LIEN
local PRO_KEY = "200988273645" 
local WORKINK_LINK = "https://work.ink/2dLc/key"

-- FENÊTRE DE LOGIN (KEY SYSTEM)
local LoginWindow = Fluent:CreateWindow({
    Title = "Xeno Hub | Authentification",
    SubTitle = "Accès par Work.ink",
    TabWidth = 160,
    Size = UDim2.fromOffset(400, 320),
    Acrylic = true,
    Theme = "Dark"
})

local LoginTab = LoginWindow:AddTab({ Title = "Clé", Icon = "lock" })

LoginTab:AddParagraph({
    Title = "Système de Clé",
    Content = "Obtenez la clé via le lien ci-dessous pour débloquer le script complet."
})

LoginTab:AddButton({
    Title = "Copier le lien de la clé",
    Description = "Lien : work.ink/2dLc/key",
    Callback = function()
        setclipboard(WORKINK_LINK)
        Fluent:Notify({Title = "Copié !", Content = "Lien copié dans le presse-papier.", Duration = 5})
    end
})

LoginTab:AddInput("KeyInput", {
    Title = "Entrez la clé ici",
    Default = "",
    Placeholder = "Clé : 2009...",
    Callback = function(Value)
        if Value == PRO_KEY then
            Fluent:Notify({Title = "Succès", Content = "Clé valide ! Chargement du menu...", Duration = 3})
            task.wait(1)
            LoginWindow:Destroy()
            
            ---------------------------------------------------------
            -- VOTRE MENU DE CHEAT COMPLET
            ---------------------------------------------------------
            local MainWin = Fluent:CreateWindow({
                Title = "Xeno Hub | Premium",
                SubTitle = "v2.5",
                TabWidth = 160,
                Size = UDim2.fromOffset(580, 460),
                Acrylic = true,
                Theme = "Dark",
                MinimizeKey = Enum.KeyCode.LeftControl
            })

            local Tabs = {
                Main = MainWin:AddTab({ Title = "Mouvement", Icon = "run" }),
                Player = MainWin:AddTab({ Title = "Joueur", Icon = "user" }),
                Combat = MainWin:AddTab({ Title = "Combat", Icon = "crosshair" }),
                Visuals = MainWin:AddTab({ Title = "Visuels", Icon = "eye" })
            }

            local lp = game.Players.LocalPlayer
            local camera = workspace.CurrentCamera
            local UIS = game:GetService("UserInputService")
            local RunService = game:GetService("RunService")
            local Flying, FlySpeed, AimbotEnabled, ESPEnabled, FOVRadius = false, 50, false, false, 150
            local StickyTarget = nil
            local InfJump = false

            UIS.JumpRequest:Connect(function() if InfJump then lp.Character:FindFirstChildOfClass("Humanoid"):ChangeState("Jumping") end end)

            local Boxes = {}
            local function CreateESP(p)
                local b = Drawing.new("Square")
                b.Thickness, b.Color, b.Transparency, b.Visible = 1, Color3.fromRGB(255, 0, 0), 1, false
                Boxes[p] = b
            end
            for _, v in pairs(game.Players:GetPlayers()) do if v ~= lp then CreateESP(v) end end
            game.Players.PlayerAdded:Connect(function(v) if v ~= lp then CreateESP(v) end end)

            RunService.RenderStepped:Connect(function()
                for player, box in pairs(Boxes) do
                    if ESPEnabled and player.Character and player.Character:FindFirstChild("HumanoidRootPart") and player.Character.Humanoid.Health > 0 then
                        local pos, onScreen = camera:WorldToViewportPoint(player.Character.HumanoidRootPart.Position)
                        if onScreen then
                            local sX, sY = 1000 / pos.Z, 2000 / pos.Z
                            box.Size, box.Position, box.Visible = Vector2.new(sX, sY), Vector2.new(pos.X - sX / 2, pos.Y - sY / 2), true
                        else box.Visible = false end
                    else box.Visible = false end
                end

                if AimbotEnabled and UIS:IsMouseButtonPressed(Enum.UserInputType.MouseButton2) then
                    if not StickyTarget then
                        local mousePos, dist = UIS:GetMouseLocation(), FOVRadius
                        for _, v in pairs(game.Players:GetPlayers()) do
                            if v ~= lp and v.Character and v.Character:FindFirstChild("Head") and v.Character.Humanoid.Health > 0 then
                                local p, oS = camera:WorldToViewportPoint(v.Character.Head.Position)
                                if oS then
                                    local d = (Vector2.new(p.X, p.Y) - mousePos).Magnitude
                                    if d < dist then dist = d StickyTarget = v end
                                end
                            end
                        end
                    end
                    if StickyTarget and StickyTarget.Character then
                        camera.CFrame = CFrame.new(camera.CFrame.Position, StickyTarget.Character.Head.Position)
                    end
                else StickyTarget = nil end
            end)

            local function startFly()
                local char = lp.Character or lp.CharacterAdded:Wait()
                local root = char:WaitForChild("HumanoidRootPart")
                char.Humanoid.PlatformStand = true
                local bv = Instance.new("BodyVelocity", root)
                bv.MaxForce = Vector3.new(math.huge, math.huge, math.huge)
                local bg = Instance.new("BodyGyro", root)
                bg.MaxTorque = Vector3.new(math.huge, math.huge, math.huge)
                task.spawn(function()
                    while Flying do
                        local dir = Vector3.new(0,0,0)
                        if UIS:IsKeyDown(Enum.KeyCode.W) then dir = dir + camera.CFrame.LookVector end
                        if UIS:IsKeyDown(Enum.KeyCode.S) then dir = dir - camera.CFrame.LookVector end
                        if UIS:IsKeyDown(Enum.KeyCode.A) then dir = dir - camera.CFrame.RightVector end
                        if UIS:IsKeyDown(Enum.KeyCode.D) then dir = dir + camera.CFrame.RightVector end
                        if UIS:IsKeyDown(Enum.KeyCode.Space) then dir = dir + Vector3.new(0, 1, 0) end
                        if UIS:IsKeyDown(Enum.KeyCode.LeftShift) then dir = dir - Vector3.new(0, 1, 0) end
                        bg.CFrame = camera.CFrame
                        bv.Velocity = dir * FlySpeed
                        task.wait()
                    end
                    bv:Destroy() bg:Destroy()
                    char.Humanoid.PlatformStand = false
                end)
            end

            Tabs.Main:AddToggle("f", {Title = "Activer le Vol", Default = false}):OnChanged(function(v) Flying = v if v then startFly() end end)
            Tabs.Main:AddSlider("fs", {Title = "Vitesse Vol", Default = 50, Min = 10, Max = 300, Callback = function(v) FlySpeed = v end})
            Tabs.Player:AddSlider("ws", {Title = "WalkSpeed", Default = 16, Min = 16, Max = 250, Callback = function(v) if lp.Character then lp.Character.Humanoid.WalkSpeed = v end end})
            Tabs.Player:AddToggle("ij", {Title = "Infinite Jump", Default = false}):OnChanged(function(v) InfJump = v end)
            Tabs.Combat:AddToggle("al", {Title = "Hard Sticky Lock", Default = false}):OnChanged(function(v) AimbotEnabled = v end)
            Tabs.Visuals:AddToggle("eb", {Title = "ESP Box (Tout le monde)", Default = false}):OnChanged(function(v) ESPEnabled = v end)

            MainWin:SelectTab(1)
        else
            Fluent:Notify({Title = "Erreur", Content = "Clé invalide.", Duration = 3})
        end
    end
})
